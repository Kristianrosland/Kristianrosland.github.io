(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a.p+"static/media/tekna-logo.04ca97dd.jpg"},208:function(e,t,a){e.exports=a(358)},213:function(e,t,a){},219:function(e,t,a){},228:function(e,t,a){},330:function(e,t,a){},331:function(e,t,a){},349:function(e,t,a){},350:function(e,t,a){},351:function(e,t,a){},358:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),i=a(192),o=a(19),s=(a(213),a(10)),u=a(6),m=a(368),d=a(25),f=a(24),E={WELCOME_NO:"AVLYST!",WELCOME_EN:"CANCELLED!",WELCOME_SUBTITLE_NO:"Vi beklager \xe5 m\xe5tte meddele at fadderuken p\xe5 UiB dessverre er avlyst. P\xe5 grunn av oppblomstring av COVID-smitte den siste tiden har administrasjonen p\xe5 UiB tatt en avgj\xf8relse om \xe5 avlyse alle arrangementer.",WELCOME_SUBTITLE_EN:"We are sorry to inform you that the mentor week is cancelled. Because of the recent rise in COVID cases, a decision was made by the administration of UiB to cancel all events. ",GROUP_PLACEHOLDER_NO:"Velg gruppe...",GROUP_PLACEHOLDER_EN:"Select group...",WELCOME_SCREEN_BUTTON_LABEL_NO:"Jeg er klar",WELCOME_SCREEN_BUTTON_LABEL_EN:"I'm ready",ERROR_TITLE_NO_NO:"Du m\xe5 fylle inn norsk tittel",ERROR_TITLE_EN_NO:"Du m\xe5 fylle inn engelsk tittel",ERROR_DAY_NO:"Du m\xe5 velge en dag",ERROR_START_TIME_NO:"Velg starttidspunkt (hh:mm)",ERROR_END_TIME_NO:"Fyll ut hele sluttidspunktet",ERROR_DESC_NO_NO:"Du m\xe5 fylle inn norsk beskrivelse",ERROR_DESC_EN_NO:"Du m\xe5 fylle inn engelsk beskrivelse",ERROR_GROUPS_NO:"Du m\xe5 velge gruppe(r) arrangementet gjelder for",ERROR_LINK_NO:"Du kan ikke ha lenketekst uten lenke",EMERGENCY_PHONE_NUMBER_NO:"Vakttelefon",EMERGENCY_PHONE_NUMBER_EN:"Mentor board",PHONE_NUMBER_NO:"909 86 911",PHONE_NUMBER_EN:"909 86 911",CHANGE_GROUP_CONFIRMATION_NO:"Er du sikker p\xe5 at du vil bytte gruppe?",CHANGE_GROUP_CONFIRMATION_EN:"Are you sure you want to change group?",NO_CANCEL_NO:"Nei, avbryt",NO_CANCEL_EN:"No, cancel",YES_CHANGE_GROUP_NO:"Ja, bytt",YES_CHANGE_GROUP_EN:"Yes, change"},g=function(e,t){var a="".concat(e,"_").concat(t);return a in E?E[a]:e},b=function(e,t){return t&&t.lang?g(e,t.lang):g(e,"NO")},p=a(194),O=function(e){var t=e.group,a=e.setGroup,l=e.setCookie,c=e.groupNames,i=e.coronaClosed,o=Object(n.useContext)(A),m=Object(u.a)(o,1)[0],E=Object(n.useState)(t),g=Object(u.a)(E,2),O=g[0],v=g[1],N=m.lang?m.lang:"NO",h=c?c.map(function(e){var t=e.id,a=e.label_nor,n=e.label_eng;return{value:t,label:"NO"===N?a:n,label_nor:a,label_eng:n}}).sort(function(e,t){return parseInt(e.value)-parseInt(t.value)}):[],_={container:function(e){return Object(s.a)({},e,{width:"100%",marginBottom:20})},option:function(e){return Object(s.a)({},e,{fontSize:"0.8rem"})},menu:function(e){return Object(s.a)({},e,{marginTop:0})}},k=O&&{label:"NO"===N?O.label_nor:O.label_eng},j=b("WELCOME",m),y=b("WELCOME_SUBTITLE",m),C=b("GROUP_PLACEHOLDER",m),S=b("WELCOME_SCREEN_BUTTON_LABEL",m);return r.a.createElement("div",{className:"welcome-screen"},r.a.createElement("div",null,r.a.createElement("h1",{className:"welcome-screen-main-title corona-title"}," ",j," "),r.a.createElement("h3",{className:"welcome-screen-sub-title"}," ",y," ")),r.a.createElement("img",{className:"person-img",src:"https://image.flaticon.com/icons/svg/145/145867.svg",alt:"person"}),r.a.createElement("div",{className:"dropdown-wrapper"},r.a.createElement(p.a,{inputProps:{readOnly:!0},placeholder:C,styles:_,value:k,onChange:function(e){return v(e)},options:h,isSearchable:!1,isDisabled:0===h.length||i}),r.a.createElement("div",{className:"ready-button ready-button-corona",onClick:function(){if(O){var e=new Date;e.setDate(e.getDate()+7),a(O),l("group",O,{path:"/",expires:e})}}},r.a.createElement("p",{className:"ready-button-text"}," ",S," ",r.a.createElement(d.a,{icon:f.faChevronRight})," "))))},v=(a(121),a(38)),N=function(e){switch(e){case"mandag":return"monday";case"tirsdag":return"tuesday";case"onsdag":return"wednesday";case"torsdag":return"thursday";case"fredag":return"friday";case"l\xf8rdag":return"saturday";default:return e}},h=function(e,t){return e.start_time||t.start_time?e.start_time?t.start_time?e.start_time===t.start_time?e.end_time&&!t.end_time?-1:!e.end_time&&t.end_time?1:e.end_time||t.end_time?e.end_time>t.end_time?1:e.end_time<t.end_time?-1:0:0:e.start_time>t.start_time?1:-1:1:-1:0},_=function(e,t){return e===t?0:"all"===e?-1:"all"===t?1:parseInt(e)-parseInt(t)},k=function(e,t,a){var n=a||"NO",r="".concat(t,"_").concat(n);return e[r]?"from"===t?"".concat("NO"===n?"Fra":"From"," ").concat(e[r]):e[r]:""},j=function(e){var t=e.start_time,a=e.end_time;return t?a?"".concat(t," \u2013 ").concat(a):t:""},y=function(e,t){var a=e.groups,n=t||"NO";return a.indexOf("all")>=0?"NO"===n?"Alle grupper":"All groups":"".concat("NO"===n?"Gruppe ":"Group "," ").concat(a.join(", "))},C=(a(219),a(51)),S=a.n(C),R=(a(122),a(43)),w=a.n(R),x=a(360);a(228);w.a.setAppElement("#root"),w.a.defaultStyles.overlay.backgroundColor="rgba(0,0,0,0.50)";var T=function(e){return e+-10+25*Math.random()},L=(S.a,T(170),S.a,T(110),S.a,T(210),S.a,T(100),S.a,T(155),S.a,T(275),function(e){var t=e.state.lang,a=e.changeLanguage,n=e.position,l="NO"===t?"selected-lang":"",c="EN"===t?"selected-lang":"";return r.a.createElement("div",{className:"".concat("relative"!==n?"language-pos-absolute":""," language-select"),onClick:a},r.a.createElement("p",{className:l}," NO ")," ",r.a.createElement("p",null,"|")," ",r.a.createElement("p",{className:c}," EN "))}),A=(a(330),r.a.createContext());var M=function(e){var t=e.firestore,a=Object(m.a)(["group","language"]),l=Object(u.a)(a,3),c=l[0],i=l[1],o=(l[2],Object(n.useState)(c.group)),d=Object(u.a)(o,2),f=(d[0],d[1]),E=Object(n.useState)([]),g=Object(u.a)(E,2),b=g[0],p=g[1],v=Object(n.useState)([]),N=Object(u.a)(v,2),h=N[0],_=N[1],k=Object(n.useState)([]),j=Object(u.a)(k,2),y=j[0],C=j[1],S=Object(n.useState)({lang:c.language?c.language:"NO"}),R=Object(u.a)(S,2),w=R[0],x=R[1];return Object(n.useEffect)(function(){t.fetchEvents(p),t.fetchSubEvents(_),t.fetchGroupNames(C)},[t,p,C]),b.map(function(e){return Object(s.a)({},e,{subEvents:h.filter(function(t){return t.parent_event_id===e.id})})}),r.a.createElement(A.Provider,{value:[w,x]},r.a.createElement("div",{className:"app"},r.a.createElement(L,{state:w,changeLanguage:function(){var e="NO"===w.lang?"EN":"NO",t=new Date;t.setDate(t.getDate()+7),i("language",e,{path:"/",expires:t}),x(Object(s.a)({},w,{lang:e}))}}),r.a.createElement(O,{groupNames:y,setGroup:f,setCookie:i,coronaClosed:!0}),!1))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var G=a(373),D=a(374),I=(a(331),function(e){var t=e.firestore,a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(""),E=Object(u.a)(f,2),g=E[0],b=E[1];Object(n.useEffect)(function(){window.scrollTo(0,0)});var p=function(e,t){t(e.target.value)},O=function(e){var t=e.code;b("auth/user-not-found"===t?"Denne brukeren finnes ikke. Pr\xf8v igjen!":"Du skrev inn feil passord!")};return r.a.createElement("div",{className:"login-screen"},r.a.createElement(D.a,{className:"login-form"},g&&r.a.createElement("label",{className:"login-error-label"}," ",g," "),r.a.createElement(D.a.Field,null,r.a.createElement("label",null," Epost "),r.a.createElement("input",{value:c,onChange:function(e){return p(e,i)},type:"email",autoComplete:"email"})),r.a.createElement(D.a.Field,null,r.a.createElement("label",null," Passord "),r.a.createElement("input",{value:m,onChange:function(e){return p(e,d)},type:"password",autoComplete:"current-password"})),r.a.createElement(x.a,{className:"login-button",onClick:function(){b(""),c&&m?t.login(c,m,O):b("Fyll inn brukernavn og passord!")}}," Logg inn ")))}),F=function(e){var t=e.check,a=e.label,n=t?f.faCheck:f.faTimes,l=["check-label-wrapper",t?"check-green":"times-red"].join(" ");return r.a.createElement("div",{className:l},r.a.createElement(d.a,{icon:n}),r.a.createElement("label",null," ",a," "))},B=function(e){var t=e.event,a=e.canManage,l=e.deleteCallback,c=e.editCallback,i=Object(n.useState)("NO"),o=Object(u.a)(i,2),s=o[0],m=o[1],E=k(t,"title",s)?k(t,"title",s):"Tittel mangler (".concat(s,")"),g=j(t),b=y(t,s),p=t.title_EN&&t.from_EN&&t.day_EN&&t.desc_EN,O=t.address&&t.address.length>0,v=t.google_maps&&t.google_maps.startsWith("https");return r.a.createElement("div",{className:"editable-event-wrapper"},r.a.createElement("div",{className:"title-language-wrapper"},r.a.createElement("label",{className:"editable-event-title"},E),r.a.createElement(L,{state:{lang:s},changeLanguage:function(){return m("NO"===s?"EN":"NO")},position:"relative"})),r.a.createElement("label",{className:"editable-event-info-label"},b),r.a.createElement("label",{className:"editable-event-info-label"},g),t.address&&r.a.createElement("label",{className:"editable-event-info-label"}," Addresse: ",t.address),r.a.createElement("div",{className:"flex-row"},O&&r.a.createElement(F,{check:v,label:v?"Har google maps":"Mangler google maps"}),!O&&r.a.createElement(F,{check:O,label:"Mangler adresse"}),!p&&r.a.createElement(F,{check:p,label:"Mangler oversettelse"}),a&&r.a.createElement(d.a,{className:"trash-icon",icon:f.faTrashAlt,onClick:function(){return l(t.id)}}),a&&r.a.createElement(d.a,{className:"pen-icon",icon:f.faPen,onClick:function(){return c(t.id)}})))},U=["mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"],P=a(372),H=a(369),W=a(195),K=a(370),Y=a(371),V=a(359),J=function(e){var t=e.textKey;return r.a.createElement("div",{className:"error-label"},b(t))},z=function(e){var t=e.title,a=e.hour,n=e.setHour,l=e.minutes,c=e.setMinute,i=e.mandatory,o=e.error,s=e.containerStyle,u=e.minuteRef;return r.a.createElement("div",{className:"".concat(s," flex-column")},r.a.createElement("div",{className:"form-field-title"}," ",t," ",i," "),o&&r.a.createElement(J,{textKey:o}),r.a.createElement("div",{className:"flex-row"},r.a.createElement(D.a.Field,{error:0!==o.length},r.a.createElement(K.a,{className:"time-input",placeholder:"00",value:a,onChange:n,type:"text",autoComplete:"off"})),r.a.createElement("div",{className:"time-separator flex-row align-center justify-center"},":"),r.a.createElement(D.a.Field,{error:0!==o.length},r.a.createElement(K.a,{ref:u,className:"time-input",placeholder:"00",value:l,onChange:c,type:"text",autoComplete:"off"}))))},q=function(e){var t=e.existingEvents,a=e.submitCallback,l=e.cancelCallback,c=e.deleteCallback,i=e.addressSuggestions,o=Object(n.useState)(!1),m=Object(u.a)(o,2),E=m[0],g=m[1],b=Object(n.useState)({hours:"",minutes:""}),p=Object(u.a)(b,2),O=p[0],N=p[1],_=Object(n.useState)({hours:"",minutes:""}),k=Object(u.a)(_,2),j=k[0],y=k[1],C=Object(n.useState)(""),S=Object(u.a)(C,2),R=S[0],w=S[1],T=Object(n.useState)(""),L=Object(u.a)(T,2),A=L[0],M=L[1],G=Object(n.useState)(""),I=Object(u.a)(G,2),F=I[0],B=I[1],U=Object(n.useState)({startTime:!1,endTime:!1,titleNO:!1,titleEN:!1,address:!1}),P=Object(u.a)(U,2),H=P[0],W=P[1],Y=Object(n.useState)(""),V=Object(u.a)(Y,2),J=V[0],q=V[1],$=Object(n.useState)(void 0),Q=Object(u.a)($,2),X=Q[0],Z=Q[1],ee=Object(n.useRef)(),te=Object(n.useRef)();Object(n.useEffect)(function(){window.scrollTo(0,0)},[]);var ae=function(e,t,a){var n,r=a.target.value,l=Object(v.a)(r.split(""));try{for(l.s();!(n=l.n()).done;){var c=n.value;if(c<"0"||c>"9")return}}catch(i){l.e(i)}finally{l.f()}r.length>2||parseInt(r)>("hours"===t?23:59)||("start"===e?(W(Object(s.a)({},H,{startTime:!1})),"hours"===t&&(2===r.length&&ee.current.focus(),N(Object(s.a)({},O,{hours:r}))),"minutes"===t&&N(Object(s.a)({},O,{minutes:r}))):(W(Object(s.a)({},H,{endTime:!1})),"hours"===t&&(2===r.length&&te.current.focus(),y(Object(s.a)({},j,{hours:r}))),"minutes"===t&&y(Object(s.a)({},j,{minutes:r}))))},ne=function(e){B(e),e.length>=3?(-1===e.toLowerCase().indexOf("bergen")&&(e+=", Bergen"),q("https://www.google.com/maps/search/?api=1&query=".concat(e))):q("")},re=function(e,t){"title_NO"===t?(0===F.length&&e.toLowerCase()in i&&Z(i[e.toLowerCase()]),w(e),W(Object(s.a)({},H,{titleNO:!1}))):"title_EN"===t&&(M(e),W(Object(s.a)({},H,{titleEN:!1})))},le=function(){w(""),M(""),N({hours:"",minutes:""}),y({hours:"",minutes:""}),B(""),q(""),W({startTime:!1,endTime:!1,titleNO:!1,titleEN:!1,address:!1})};return r.a.createElement("div",{className:"flex-column align-center add-sub-event-wrapper"},t.sort(h).map(function(e){return r.a.createElement("div",{key:e.id,className:"".concat(E?"mobile-excluded":""," margin-top-medium flex-row existing-subevent")},r.a.createElement("label",{className:"margin-left-medium sub-event-time-label"}," ",e.start_time," \u2013 ",e.end_time," "),r.a.createElement("div",{className:"margin-left-medium flex-column sub-event-title-wrapper"},r.a.createElement("label",{className:"sub-event-title-label"}," NO: ",e.title_NO," "),r.a.createElement("label",{className:"sub-event-title-label"}," EN: ",e.title_EN," ")),r.a.createElement("label",{className:"sub-event-google-maps"}," ",e.google_maps," "),r.a.createElement(d.a,{className:"sub-event-trash",icon:f.faTrashAlt,onClick:function(){return c(e.id)}}))}),!E&&r.a.createElement(x.a,{type:"button",className:"margin-top-large full-width",onClick:l},"Tilbake"),!E&&r.a.createElement(x.a,{type:"button",primary:!0,className:"margin-top-small margin-bottom-large full-width",onClick:function(){g(!0)}}," Legg til nytt event "),E&&r.a.createElement(D.a,{className:"subevent-form"},r.a.createElement("div",{className:"flex-column margin-top-large"},r.a.createElement("div",{className:"flex-row"},r.a.createElement(z,{title:"Start",hour:O.hours,minutes:O.minutes,setHour:function(e){return ae("start","hours",e)},setMinute:function(e){return ae("start","minutes",e)},error:H.startTime?"ERROR_START_TIME":"",mandatory:r.a.createElement("span",{style:{color:"red"}},"*"),minuteRef:ee}),r.a.createElement(z,{title:"Slutt",hour:j.hours,minutes:j.minutes,setHour:function(e){return ae("end","hours",e)},setMinute:function(e){return ae("end","minutes",e)},containerStyle:"margin-left-medium",error:H.endTime?"ERROR_END_TIME":"",minuteRef:te})),r.a.createElement(D.a.Field,{error:H.titleNO},r.a.createElement("label",{className:"form-field-title margin-top-large"}," Norsk tittel "),r.a.createElement(K.a,{value:R,onChange:function(e){re(e.target.value,"title_NO")},type:"text",autoComplete:"off"})),r.a.createElement(D.a.Field,{error:H.titleEN},r.a.createElement("label",{className:"form-field-title margin-top-small"}," Engelsk tittel "),r.a.createElement(K.a,{value:A,onChange:function(e){re(e.target.value,"title_EN")},type:"text",x:!0,autoComplete:"off"})),r.a.createElement(D.a.Field,{error:H.address},r.a.createElement("label",{className:"form-field-title margin-top-large"}," Adresse "),X&&r.a.createElement("label",{style:{color:"blue",textDecoration:"underline"},onClick:function(){ne(X),Z(void 0)}}," Bruk foresl\xe5tt adresse: ",X," "),r.a.createElement(K.a,{value:F,onChange:function(e){ne(e.target.value),W(Object(s.a)({},H,{address:!1}))},type:"text",autoComplete:"off"}),J&&r.a.createElement(x.a,{className:"test-link-button",type:"button",primary:!0,onClick:function(){return window.open(J,"_blank")}}," Test lenke ")),r.a.createElement(x.a,{type:"button",secondary:!0,className:"margin-top-small",onClick:function(){g(!1),le()}},"Avbryt"),r.a.createElement(x.a,{type:"submit",primary:!0,className:"margin-top-small margin-bottom-large",onClick:function(){if(function(){var e={titleNO:0===R.length,titleEN:0===A.length,startTime:2!==O.hours.length||2!==O.minutes.length,endTime:1===j.hours.length||2===j.hours.length&&2!==j.minutes.length,address:F.length>0&&F.length<3};return W(e),!Object.keys(e).reduce(function(t,a){return e[a]||t},!1)}()){var e={title_NO:R,title_EN:A,start_time:"".concat(O.hours,":").concat(O.minutes)};0!==F.length&&(e.address=F),0!==J.length&&(e.google_maps=J),2===j.hours.length&&2===j.minutes.length&&(e.end_time="".concat(j.hours,":").concat(j.minutes)),a(e),g(!1),le()}}},"Ferdig"))))},$=(a(349),function(e){var t=e.editing,a=e.existingEvent,l=void 0===a?{}:a,c=e.availableGroups,i=e.cancelCallback,o=e.submitCallback,m=e.updateCallback,d=e.submitSubeventCallback,f=e.deleteSubeventCallback,E=e.addressSuggestions,g=l.title_NO,b=void 0===g?"":g,p=l.title_EN,O=void 0===p?"":p,h=l.desc_NO,k=void 0===h?"":h,j=l.desc_EN,y=void 0===j?"":j,C=l.google_maps,S=void 0===C?"":C,R=l.start_time,w=void 0===R?"":R,T=l.end_time,L=void 0===T?"":T,A=l.day_NO,M=void 0===A?"":A,G=l.linkText_NO,I=void 0===G?"":G,F=l.linkText_EN,B=void 0===F?"":F,U=Object(n.useState)(b),P=Object(u.a)(U,2),H=P[0],$=P[1],Q=Object(n.useState)(O),X=Object(u.a)(Q,2),Z=X[0],ee=X[1],te=Object(n.useState)(k),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],le=Object(n.useState)(y),ce=Object(u.a)(le,2),ie=ce[0],oe=ce[1],se=Object(n.useState)(l.address?l.address:""),ue=Object(u.a)(se,2),me=ue[0],de=ue[1],fe=Object(n.useState)(S),Ee=Object(u.a)(fe,2),ge=Ee[0],be=Ee[1],pe=Object(n.useState)(I),Oe=Object(u.a)(pe,2),ve=Oe[0],Ne=Oe[1],he=Object(n.useState)(B),_e=Object(u.a)(he,2),ke=_e[0],je=_e[1],ye=Object(n.useState)(l.link?l.link:""),Ce=Object(u.a)(ye,2),Se=Ce[0],Re=Ce[1],we=Object(n.useState)(5===w.length?w.split(":")[0]:""),xe=Object(u.a)(we,2),Te=xe[0],Le=xe[1],Ae=Object(n.useState)(5===w.length?w.split(":")[1]:""),Me=Object(u.a)(Ae,2),Ge=Me[0],De=Me[1],Ie=Object(n.useState)(5===L.length?L.split(":")[0]:""),Fe=Object(u.a)(Ie,2),Be=Fe[0],Ue=Fe[1],Pe=Object(n.useState)(5===L.length?L.split(":")[1]:""),He=Object(u.a)(Pe,2),We=He[0],Ke=He[1],Ye=Object(n.useState)(l.groups?l.groups:1===c.length?c:[]),Ve=Object(u.a)(Ye,2),Je=Ve[0],ze=Ve[1],qe=Object(n.useState)(M),$e=Object(u.a)(qe,2),Qe=$e[0],Xe=$e[1],Ze=Object(n.useState)({titleNO:!1,titleEN:!1,descNO:!1,descEN:!1,day:!1,address:!1,timeStart:!1,timeEnd:!1,groups:!1}),et=Object(u.a)(Ze,2),tt=et[0],at=et[1],nt=Object(n.useState)(!1),rt=Object(u.a)(nt,2),lt=rt[0],ct=rt[1],it=Object(n.useState)(!1),ot=Object(u.a)(it,2),st=ot[0],ut=ot[1],mt=Object(n.useRef)(null),dt=Object(n.useRef)(null),ft=r.a.createElement("span",{style:{color:"red"}},"*"),Et=Je.indexOf("all")>=0;Object(n.useEffect)(function(){window.scrollTo(0,0)},[]);var gt=function(e){e.length<3?be(""):(-1===e.toLowerCase().indexOf("bergen")&&(e+=", Bergen"),be("https://www.google.com/maps/search/?api=1&query=".concat(e)))},bt=function(e,t){var a,n=e.target.value,r=Object(v.a)(n.split(""));try{for(r.s();!(a=r.n()).done;){var l=a.value;if(l<"0"||l>"9")return}}catch(i){r.e(i)}finally{r.f()}var c="startTimeHour"===t||"endTimeHour"===t?23:59;n.length>2||parseInt(n)>c||("startTimeHour"===t&&(2===n.length&&mt.current.focus(),Le(n)),"startTimeMinute"===t&&De(n),"endTimeHour"===t&&(2===n.length&&dt.current.focus(),Ue(n)),"endTimeMinute"===t&&Ke(n))},pt=function(e){at(Object(s.a)({},tt,{groups:!1})),"duplicate"===e?Je.indexOf("duplicate")>=0?ze([]):ze(["duplicate"]):"all"===e&&-1===Je.indexOf("all")?ze(["all"]):Je.indexOf(e)>=0?ze(Je.filter(function(t){return t!==e})):-1===Je.indexOf("all")&&-1===Je.indexOf("duplicate")&&ze([e].concat(Object(W.a)(Je)))};return r.a.createElement("div",{className:"flex-column create-event-wrapper"},st?r.a.createElement(q,{existingEvents:l.subEvents?l.subEvents:[],submitCallback:function(e){l&&d(Object(s.a)({},e,{parent_event_id:l.id}))},cancelCallback:function(){return ut(!1)},deleteCallback:f,addressSuggestions:E}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"create-event-header"},"Legg til et nytt event. Felter merket med ",ft," er obligatoriske."),r.a.createElement(D.a,{className:"create-event-form",onSubmit:function(){if(function(e){var t={titleNO:""===H,titleEN:""===Z,descNO:""===ne,descEN:""===ie,timeStart:2!==Te.length||2!==Ge.length,timeEnd:""!==Be&&(2!==Be.length||2!==We.length),day:""===Qe||-1===["mandag","tirsdag","onsdag","torsdag","fredag","l\xf8rdag"].indexOf(Qe),link:(0!==ke.length||0!==ve.length)&&!Se,groups:0===Je.length};return e(t),!Object.keys(t).reduce(function(e,a){return t[a]||e},!1)}(at)){ct(!0);var e=c.indexOf("all")>=0,a={title_NO:H,title_EN:Z,desc_NO:ne,desc_EN:ie,day_NO:Qe,day_EN:N(Qe),from_NO:e?"fadderstyret":"gruppeleder",from_EN:e?"the mentor board":"group leader",start_time:"".concat(Te,":").concat(Ge),groups:Je.sort(_)};me.length>=3&&(a.address=me),2===Be.length&&2===We.length&&(a.end_time="".concat(Be,":").concat(We)),ge&&ge.startsWith("https://")&&(a.google_maps=ge),Se&&(a.link=Se,ve&&(a.linkText_NO=ve),ke&&(a.linkText_EN=ke)),t?m(Object(s.a)({},a,{id:l.id})):Je.indexOf("duplicate")>=0?c.forEach(function(e){"all"!==e&&o(Object(s.a)({},a,{groups:[e]}))}):o(a)}},loading:!c||lt},r.a.createElement(D.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Tittel ",ft," "),r.a.createElement(D.a.Field,{error:tt.titleNO},r.a.createElement("label",{className:"form-field-title"}," Norsk "),tt.titleNO&&r.a.createElement(J,{textKey:"ERROR_TITLE_NO"}),r.a.createElement(K.a,{value:H,onChange:function(e){$(e.target.value),at(Object(s.a)({},tt,{titleNO:!1}))},type:"text",autoComplete:"off"})),r.a.createElement(D.a.Field,{error:tt.titleEN},r.a.createElement("label",{className:"form-field-title"}," Engelsk "),tt.titleEN&&r.a.createElement(J,{textKey:"ERROR_TITLE_EN"}),r.a.createElement("input",{value:Z,onChange:function(e){ee(e.target.value),at(Object(s.a)({},tt,{titleEN:!1}))},type:"text",autoComplete:"off"}))),r.a.createElement(D.a.Field,{error:tt.day},r.a.createElement("label",{className:"form-field-header"}," Dag ",ft," "),tt.day&&r.a.createElement(J,{textKey:"ERROR_DAY"}),r.a.createElement(x.a.Group,{className:"full-width"},r.a.createElement(x.a,{primary:"mandag"===Qe,type:"button",onClick:function(){Xe("mandag"),at(Object(s.a)({},tt,{day:!1}))}}," ","Man"," "),r.a.createElement(x.a,{primary:"tirsdag"===Qe,type:"button",onClick:function(){Xe("tirsdag"),at(Object(s.a)({},tt,{day:!1}))}}," ","Tirs"," "),r.a.createElement(x.a,{primary:"onsdag"===Qe,type:"button",onClick:function(){Xe("onsdag"),at(Object(s.a)({},tt,{day:!1}))}}," ","Ons"," ")),r.a.createElement(x.a.Group,{className:"full-width margin-top-small"},r.a.createElement(x.a,{primary:"torsdag"===Qe,type:"button",onClick:function(){Xe("torsdag"),at(Object(s.a)({},tt,{day:!1}))}}," ","Tors"," "),r.a.createElement(x.a,{primary:"fredag"===Qe,type:"button",onClick:function(){Xe("fredag"),at(Object(s.a)({},tt,{day:!1}))}}," ","Fre"," "),r.a.createElement(x.a,{primary:"l\xf8rdag"===Qe,type:"button",onClick:function(){Xe("l\xf8rdag"),at(Object(s.a)({},tt,{day:!1}))}}," ","L\xf8r"," "))),r.a.createElement(D.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Tid "),r.a.createElement("div",{className:"flex-row"},r.a.createElement(z,{title:"Start",hour:Te,minutes:Ge,setHour:function(e){bt(e,"startTimeHour"),at(Object(s.a)({},tt,{timeStart:!1}))},setMinute:function(e){bt(e,"startTimeMinute"),at(Object(s.a)({},tt,{timeStart:!1}))},error:tt.timeStart?"ERROR_START_TIME":"",mandatory:ft,minuteRef:mt}),r.a.createElement(z,{title:"End",hour:Be,minutes:We,setHour:function(e){bt(e,"endTimeHour"),at(Object(s.a)({},tt,{timeEnd:!1}))},setMinute:function(e){bt(e,"endTimeMinute"),at(Object(s.a)({},tt,{timeEnd:!1}))},error:tt.timeEnd?"ERROR_END_TIME":"",mandatory:!1,containerStyle:"margin-left-large",minuteRef:dt}))),r.a.createElement(D.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," ","Beskrivelse ",ft," "),r.a.createElement(D.a.Field,{error:tt.descNO},r.a.createElement("label",{className:"form-field-title"}," Norsk "),tt.descNO&&r.a.createElement(J,{textKey:"ERROR_DESC_NO"}),r.a.createElement(Y.a,{error:tt.desc,value:ne,onChange:function(e){re(e.target.value),at(Object(s.a)({},tt,{descNO:!1}))}})),r.a.createElement(D.a.Field,{error:tt.descEN},r.a.createElement("label",{className:"form-field-title"}," Engelsk "),tt.descEN&&r.a.createElement(J,{textKey:"ERROR_DESC_EN"}),r.a.createElement(Y.a,{error:tt.desc,value:ie,onChange:function(e){oe(e.target.value),at(Object(s.a)({},tt,{descEN:!1}))}}))),r.a.createElement(D.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement(D.a.Field,null,r.a.createElement("label",{className:"form-field-header"}," Adresse "),r.a.createElement("input",{value:me,onChange:function(e){de(e.target.value),ge&&gt(e.target.value)},type:"text",autoComplete:"off"})),!ge&&r.a.createElement("div",{className:"flex-row align-center"},r.a.createElement(x.a,{type:"button",disabled:me.length<3,content:"Generer lenke til Google maps",icon:"map",labelPosition:"left",onClick:function(){return gt(me)},primary:!0})),ge&&r.a.createElement(x.a.Group,{className:"margin-top-small"},r.a.createElement(x.a,{type:"button",onClick:function(){return be("")}},"Fjern"),r.a.createElement(x.a.Or,{text:""}),r.a.createElement(x.a,{type:"button",primary:!0,onClick:function(){return window.open(ge,"_blank")}},"Test lenke"))),r.a.createElement(D.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," Lenke "),r.a.createElement(D.a.Field,null,r.a.createElement("label",{className:"form-field-title"}," ","Norsk tekst som vises"," "),r.a.createElement("input",{value:ve,onChange:function(e){return Ne(e.target.value)},type:"text",autoComplete:"off"})),r.a.createElement(D.a.Field,null,r.a.createElement("label",{className:"form-field-title"}," ","Engelsk tekst som vises"," "),r.a.createElement("input",{value:ke,onChange:function(e){return je(e.target.value)},type:"text",autoComplete:"off"})),r.a.createElement(D.a.Field,{error:tt.link},r.a.createElement("label",{className:"form-field-title"}," Lenke "),tt.link&&r.a.createElement(J,{textKey:"ERROR_LINK"}),r.a.createElement("input",{value:Se,onChange:function(e){Re(e.target.value),at(Object(s.a)({},tt,{link:!1}))},type:"text",autoComplete:"off"}))),1!==c.length&&r.a.createElement(D.a.Group,{grouped:!0,className:"form-input-group"},r.a.createElement("label",{className:"form-field-header"}," ","Gjelder for gruppe(r): ",ft," "),tt.groups&&r.a.createElement(J,{textKey:"ERROR_GROUPS"}),r.a.createElement(D.a.Field,null,c.map(function(e){return r.a.createElement(V.a,{key:e,label:"all"===e?"Alle grupper":"Gruppe ".concat(e),className:"group-checkbox ".concat("all"===e?"full-width":""," ").concat(tt.groups?"checkbox-error":""),onClick:function(){return pt(e)},disabled:Je.indexOf("duplicate")>=0||"all"!==e&&Et,checked:Je.indexOf("duplicate")>=0||Et||Je.indexOf(e)>=0})}),!t&&c.length>=2&&r.a.createElement(V.a,{label:"Lag et separat event for hver gruppe. Nyttig for events som skal ha egen timeplane per gruppe, eks. Bar-til-bar.",className:"group-checkbox full-width margin-top-medium",onClick:function(){return pt("duplicate")},checked:Je.indexOf("duplicate")>=0}))),t&&r.a.createElement(x.a,{type:"button",onClick:function(){ut(!0)},className:"full-width margin-bottom-small margin-top-small"},"Legg til hendelser"),r.a.createElement(x.a,{type:"button",onClick:function(){return i()},className:"full-width margin-bottom-small margin-top-medium"},"Avbryt"),r.a.createElement(x.a,{primary:!0,type:"submit",className:"full-width margin-bottom-large"},t?"Lagre":"Ferdig"))))});a(350);w.a.setAppElement("#root"),w.a.defaultStyles.overlay.backgroundColor="rgba(0,0,0,0.50)";var Q=function(e){var t=e.handleClick;return r.a.createElement("div",{className:"add-event-button",onClick:t},r.a.createElement("p",null,"+"))},X=function(e){var t=e.user,a=e.events,l=void 0===a?[]:a,c=e.addressSuggestions,i=e.firestore,o=Object(n.useState)(void 0),s=Object(u.a)(o,2),m=s[0],d=s[1],f=Object(n.useState)(!1),E=Object(u.a)(f,2),g=E[0],b=E[1],p=Object(n.useState)(void 0),O=Object(u.a)(p,2),N=O[0],_=O[1],k=Object(n.useState)(void 0),j=Object(u.a)(k,2),y=j[0],C=j[1],S=Object(n.useState)(void 0),R=Object(u.a)(S,2),T=R[0],L=R[1],A=Object(n.useState)(!1),M=Object(u.a)(A,2),G=M[0],D=M[1];Object(n.useEffect)(function(){i.fetchGroupsThatUserAdministrates(t.uid,d)},[i,t.uid]);var I=m?l.filter(function(e){return(!T||e.groups.indexOf(T)>=0)&&function(e,t){if(t.groups.indexOf("all")>=0||"all"===e)return!0;var a,n=Object(v.a)(e);try{for(n.s();!(a=n.n()).done;){var r,l=a.value,c=Object(v.a)(t.groups);try{for(c.s();!(r=c.n()).done;)if(l===r.value)return!0}catch(i){c.e(i)}finally{c.f()}}}catch(i){n.e(i)}finally{n.f()}}(m,e)}):[],F=function(e){var t={};return U.forEach(function(e){return t[e]=[]}),e.forEach(function(e){return t[e.day_NO].push(e)}),Object.keys(t).forEach(function(e){return t[e].sort(h)}),t}(I);if(g||N)return r.a.createElement($,{existingEvent:l.filter(function(e){return e.id===N})[0],editing:void 0!==N,cancelCallback:function(){b(!1),_(void 0),window.scrollTo(0,0)},submitCallback:function(e){i.addEvent(e,t.uid).then(b(!1)),window.scrollTo(0,0)},submitSubeventCallback:function(e){i.addSubEvent(e,t.uid)},deleteSubeventCallback:function(e){i.removeSubEvent(e)},updateCallback:function(e){i.updateEvent(e).then(_(void 0)),window.scrollTo(0,0)},availableGroups:m,addressSuggestions:c});var W=function(){i.removeEvent(y).catch(function(e){return console.log(e)}),C(void 0)};return r.a.createElement("div",{className:"event-manager-wrapper",onKeyPress:function(e){"Enter"===e.key&&y&&W()}},r.a.createElement(w.a,{isOpen:void 0!==y,className:"delete-event-modal"},y&&r.a.createElement("label",null,"Er du sikker p\xe5 at du vil slette"," ",r.a.createElement("span",{className:"font-bold"},I.filter(function(e){return e.id===y})[0].title_NO)," ","?"),r.a.createElement("div",{className:"full-width flex-row margin-top-large"},r.a.createElement(x.a,{secondary:!0,onClick:function(){return C(void 0)}}," ","Nei, g\xe5 tilbake"," "),r.a.createElement(x.a,{primary:!0,onClick:function(){W()}}," ","Ja, slett!"," "))),r.a.createElement(P.a,{active:!m}),r.a.createElement("div",{className:"add-event-button-wrapper"},r.a.createElement(Q,{handleClick:function(){return b(!0)}}),G&&r.a.createElement("div",{className:"event-filter-checkbox-wrapper margin-top-large"},r.a.createElement(H.a,{label:"\xc5pent for alle",className:"filter-group-checkbox",onClick:function(){return L("all")},checked:"all"===T}),m&&m.map(function(e){return"all"===e?null:r.a.createElement(H.a,{key:e,checked:T===e,label:"Gruppe ".concat(e),onClick:function(){return L(e)},className:"filter-group-checkbox"})})),!G&&m&&m.length>1&&r.a.createElement(x.a,{type:"button",className:"margin-top-large margin-right-auto",onClick:function(){return D(!0)}}," ","Legg til filter"," ")),m&&l&&U.map(function(e){var t=F[e].map(function(e){return r.a.createElement(B,{key:e.id,event:e,canManage:e.groups.reduce(function(e,t){return e&&m.indexOf(t)>=0},!0),deleteCallback:function(e){return C(e)},editCallback:function(e){return _(e)}})});return r.a.createElement("div",{key:e,className:"event-group"},r.a.createElement("div",{className:"event-group-day-label"}," ",e," "),t)}),r.a.createElement(x.a,{type:"button",className:"full-width margin-top-medium margin-bottom-large",primary:!0,onClick:function(){return i.logout()}}," ","Logg ut"," "))},Z=a(375),ee=(a(351),function(e){var t=e.firestore,a=Object(n.useState)([]),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)([]),m=Object(u.a)(o,2),d=m[0],f=m[1],E=Object(n.useState)(void 0),g=Object(u.a)(E,2),b=g[0],p=g[1],O=Object(n.useState)(!0),v=Object(u.a)(O,2),N=v[0],h=v[1];Object(n.useEffect)(function(){t.fetchEvents(i),t.fetchSubEvents(f),t.registerForAuthUpdates(p,h)},[t]);var _=0===c.length?[]:c.map(function(e){return Object(s.a)({},e,{subEvents:d.filter(function(t){return t.parent_event_id===e.id})})}),k=function(e){var t={};return e.forEach(function(e){e.title_NO&&e.address&&e.google_maps&&(t[e.title_NO.toLowerCase()]=e.address)}),t}(d);return r.a.createElement("div",{className:"back-office-wrapper",id:"app"},r.a.createElement(Z.a,{active:N},r.a.createElement(P.a,{active:N})),!N&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"back-office-header"}," Adminpanel "),!b&&r.a.createElement(I,{firestore:t}),b&&r.a.createElement(X,{user:b,firestore:t,events:_,addressSuggestions:k})))}),te=a(190),ae=a(191),ne=a(95),re=a.n(ne),le=(a(352),a(355),{apiKey:"AIzaSyBz86p_Wdi_WBkLpcxhMaph4geiv69bcNc",authDomain:"fadderuke-matnat.firebaseapp.com",databaseURL:"https://fadderuke-matnat.firebaseio.com",projectId:"fadderuke-matnat",storageBucket:"fadderuke-matnat.appspot.com",messagingSenderId:"909444728352",appId:"1:909444728352:web:09ee2da490aafc00"}),ce=new(function(){function e(){Object(te.a)(this,e),re.a.initializeApp(le),this.db=re.a.firestore(),this.auth=re.a.auth()}return Object(ae.a)(e,[{key:"fetchEvents",value:function(e){this.db.collection("events2020").onSnapshot(function(t){var a=t.docs.map(function(e){return Object(s.a)({id:e.id},e.data(),{subEvents:[]})});e(a),console.log("Events fetched successfully!")})}},{key:"fetchSubEvents",value:function(e){this.db.collection("subevents2020").onSnapshot(function(t){e(t.docs.map(function(e){return Object(s.a)({id:e.id},e.data())})),console.log("Sub-events fetched successfully!")})}},{key:"fetchGroupNames",value:function(e){this.db.collection("groups2020").onSnapshot(function(t){var a=t.docs.map(function(e){return e.data()});e(a)},console.log)}},{key:"login",value:function(e,t,a){this.auth.signInWithEmailAndPassword(e,t).catch(function(e){a(e)})}},{key:"logout",value:function(){this.auth.signOut()}},{key:"registerForAuthUpdates",value:function(e,t){this.auth.onAuthStateChanged(function(a){a?(e(a),t(!1)):(e(void 0),t(!1))})}},{key:"fetchGroupsThatUserAdministrates",value:function(e,t){this.db.collection("writePermissions").doc(e).get().then(function(e){if(e.exists){var a=e.data().groups;t(a)}})}},{key:"addEvent",value:function(e,t){if(e)return this.db.collection("events2020").add(Object(s.a)({},e,{createdBy:t}))}},{key:"removeEvent",value:function(e){if(e)return this.db.collection("events2020").doc(e).delete()}},{key:"addSubEvent",value:function(e,t){if(e)return this.db.collection("subevents2020").add(Object(s.a)({},e,{createdBy:t}))}},{key:"removeSubEvent",value:function(e){if(e)return this.db.collection("subevents2020").doc(e).delete()}},{key:"updateEvent",value:function(e){if(e)return this.db.collection("events2020").doc(e.id).set(e)}}]),e}());c.a.render(r.a.createElement(i.a,{basename:""},r.a.createElement(o.a,{exact:!0,path:"/admin",component:function(){return r.a.createElement(ee,{firestore:ce})}}),r.a.createElement(o.a,{exact:!0,path:"/",render:function(){return r.a.createElement(G.a,null," ",r.a.createElement(M,{firestore:ce})," ")}})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[208,1,2]]]);
//# sourceMappingURL=main.45ff40d9.chunk.js.map